import { Logger } from './logger';
import { AuthInfo } from './authInfo';
import { SfdxConfigAggregator } from './config/sfdxConfigAggregator';
import { Connection as JSForceConnection } from 'jsforce';
import { Tooling as JSForceTooling } from 'jsforce';
import { ConnectionOptions } from 'jsforce';
import { RequestInfo } from 'jsforce';
import { QueryResult } from 'jsforce';
import { ExecuteOptions } from 'jsforce';
export declare const SFDX_HTTP_HEADERS: {
    'content-type': string;
    'user-agent': string;
};
export interface Tooling extends JSForceTooling {
    /**
     * Executes a query and auto-fetches (i.e., "queryMore") all results.  This is especially
     * useful with large query result sizes, such as over 2000 records.  The default maximum
     * fetch size is 10,000 records.  Modify this via the options argument.
     * @param {string} soql The SOQL string.
     * @param {ExecuteOptions} options The query options.  NOTE: the autoFetch option will always be true.
     * @returns {Promise.<QueryResult<T>>}
     */
    autoFetchQuery<T>(soql: string, options?: ExecuteOptions): Promise<QueryResult<T>>;
}
/**
 * Handles connections and requests to Salesforce Orgs.
 * @extends jsforce.Connection
 *
 * @example
 * // Uses latest API version
 * const connection = await Connection.create(await AuthInfo.create(myAdminUsername));
 * connection.query('SELECT Name from Account');
 *
 * // Use different API version
 * connection.setApiVersion("42.0");
 * connection.query('SELECT Name from Account');
 */
export declare class Connection extends JSForceConnection {
    /**
     * Create and return a connection to an org using authentication info.
     * The returned connection uses the latest API version available on the
     * server unless the apiVersion [config]{@link SfdxConfig} value is set.
     *
     * @param {AuthInfo} authInfo The authentication info from the persistence store.
     * @param {SfdxConfigAggregator} [configAggregator] The aggregated config object.
     * @returns {Promise<Connection>}
     */
    static create(authInfo: AuthInfo, configAggregator?: SfdxConfigAggregator): Promise<Connection>;
    tooling: Tooling;
    private logger;
    private _logger;
    private authInfo;
    constructor(options: ConnectionOptions, authInfo: AuthInfo, logger?: Logger);
    /**
     * Send REST API request with given HTTP request info, with connected session information
     * and SFDX headers.
     *
     * @override
     *
     * @param {RequestInfo | string} request HTTP request object or URL to GET request.
     * @param [options] HTTP API request options.
     * @returns {Promise<object>} The request Promise.
     */
    request(request: RequestInfo | string, options?: any): Promise<object>;
    /**
     * @returns {string} The Force API base url for the instance.
     */
    baseUrl(): string;
    /**
     * Retrieves the highest api version that is supported by the target server instance.
     * @returns {Promise<string>} The max API version number. i.e 46.0
     */
    retrieveMaxApiVersion(): Promise<string>;
    /**
     * Use the latest API version available on `this.instanceUrl`.
     */
    useLatestApiVersion(): Promise<void>;
    /**
     * Get the API version used for all connection requests.
     * @returns {string}
     */
    getApiVersion(): string;
    /**
     * Set the API version for all connection requests.
     * @param {string} version The API version.
     * @throws {SfdxError} **`{name: 'IncorrectAPIVersion'}`:** Incorrect API version.
     */
    setApiVersion(version: string): void;
    /**
     * Getter for the AuthInfo
     * @returns {AuthInfo} A cloned authInfo.
     */
    getAuthInfo(): AuthInfo;
    /**
     * Getter for the username of the Salesforce Org
     * @returns {string}
     */
    getUsername(): string;
    /**
     * Executes a query and auto-fetches (i.e., "queryMore") all results.  This is especially
     * useful with large query result sizes, such as over 2000 records.  The default maximum
     * fetch size is 10,000 records.  Modify this via the options argument.
     * @param {string} soql The SOQL string.
     * @param {ExecuteOptions} options The query options.  NOTE: the autoFetch option will always be true.
     * @returns {Promise.<QueryResult<T>>}
     */
    autoFetchQuery<T>(soql: string, options?: ExecuteOptions): Promise<QueryResult<T>>;
}
